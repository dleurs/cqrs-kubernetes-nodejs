apiVersion: serving.knative.dev/v1 # Current version of Knative
kind: Service
metadata:
  name: cqrs-dispatcher # The name of the app
  namespace: default # The namespace the app will use
spec:
  template:
    spec:
      containers:
        - image: dleurs/cqrs-dispatcher:1.1.2 # Reference to the image of the app
          #ports: => reserved in knative
          #- containerPort: 8080
          env:
            #- name: PORT
            #  value: "8080"
            - name: NODE_ENV
              value: "production"
            #- name: COMMANDORDERURL
            #  value: "http://cqrs-command-order-svc.default.svc.cluster.local"
            #- name: QUERYORDERBURL
            #  value: "http://cqrs-query-order-svc.default.svc.cluster.local"